<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="UTF-8">
	<title>Selamat Hari Raya Idul Fitri</title>	
	<link rel="icon"
		href="https://cdn.discordapp.com/attachments/502068238742585345/711805052230041620/kisspng-bedug-vector-graphics-image-ramadan-lebaran-in-in-5b74ca464df0f2.9576236215343806143193.png">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="assets/style.css">
</head>
<body onload="init()">
<div id="preload">Miringkan Layar dan refresh</div>
<audio id="myAudio">
		<source src="assets/musik/music.mp3" type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>
	<audio id="myOpening">
		<source src="assets/musik/opening.mp3" type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>
<div class="vidcont myoverlay">
		<div class="divvideo">
			<video id="myVideo" width="100%" height="100%" preload="auto">
				<source src="assets/video/video.mp4" type="video/mp4">
				Your browser doe`s not support HTML5 video.
			</video>
		</div>
	</div>
<div id="notif" class="notif">
	<div class="header center">
		Selamat Datang
	</div>
	<div class="body">
		<h6 class="text-center mt-4">Isi Nama Kamu Terlebih Dahulu !</h6>
		<h6 class="text-center">Kalau sudah klik Oke ya!</h6>
		<div class="d-flex align-items-center">
			Nama : <input type="text" id="nama" class="form-control">
		</div>
	</div>
	<div class="footer">
		<button class="btn-ok btn btn-primary" id="btnok">OK</button>
	</div>
</div>
<div id="ucapan" class="notif" style="display: none;">
	<div class="header center">
		Halo <span id="spanNama"></span>
	</div>
	<div class="body">
		<h6 class="mt-2">Selamat Hari Raya Idul Fitri ^.^</h6>
		<p>Di bulan yang berkah ini, semoga Allah SWT mengampuni dosa dan menerima ibadah puasa kita. Sebelumnya maukah kamu memaafkan saya?</p>
	</div>
	<div class="footer">
		<button class="btn-no btn btn-primary" onmouseover="move()" onclick="move()" id="btnno">Tidak</button>
		<button class="btn-no-2 btn btn-primary" onmouseover="move2()" onclick="move2()" id="btnno2" style="display: none">Tidak</button>
		<button class="btn-no-3 btn btn-primary" onmouseover="move3()" onclick="move3()" id="btnno3" style="display: none">Tidak</button>
		<button class="btn-yes btn btn-success" id="btnyes">Iya</button>
	</div>
</div>
<div class="akhir mt-5" id="akhir">
	<h3 class="animated bounceInLeft mt-5">Taqabbalallahu Minna Wa Minkum shiyamana wa shiyamakum.</h3>
	<p class="animated infinite bounce slower mt-3">Saya Ade Ridwan, menyadari bahwa saya memiliki banyak salah kepada kalian. Dengan demikian saya memohon maaf sebesar besarnya atas kesalahan saya dari ucapan maupun perbuatan.</p>
</div>
<div class="top"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script type="text/javascript">
	var preload = document.querySelector('#preload');
	var fs = document.querySelector('#fs');
	var input = document.querySelector('#notif');
	var ucapan = document.querySelector('#ucapan');
	var inputnama = document.querySelector('#nama');
	var spannama = document.querySelector('#spanNama');
	var btnok = document.querySelector('#btnok');
	var btno = document.querySelector('#btnno');
	var btno2 = document.querySelector('#btnno2');
	var btno3 = document.querySelector('#btnno3');
	var myvideo = document.querySelector('#myVideo');
	var myOpening = document.querySelector('#myOpening');
	var vidcont = document.querySelector('.vidcont');
	var btnyes = document.querySelector('#btnyes');
	var akhir = document.querySelector('#akhir');
	var kondisinya = false;
	var nama;
	vidcont.style.display = 'none';
	akhir.style.display = "none";
	input.style.display = "show";

	function init(){
		vidcont.style.display = 'none';
		akhir.style.display = "none";
		input.style.display = "show";
	}

	function displayWindowSize(){
		let cek = document.documentElement.clientWidth > document.documentElement.clientHeight;
		if(!kondisinya){
			preloadShow(cek);
			kondisinya = true;
		}
	}

	function preloadShow(kondisi){
		if(kondisi){
			preload.style.display = "none";
			input.style.display = "block";
		}
	}

	btnok.addEventListener('click',function(){
		nama = inputnama.value;
		if(nama.length < 1 ){
			nama = "Tanpa Nama";
		}
		ubahisi();
		playOpening();
		input.style.display = "none";
		ucapan.style.display = "block";
	});

	btnyes.addEventListener('click',function(){
		ucapan.style.display = "none";
		input.style.display = "none";
		vidcont.style.display = "block";
		document.body.requestFullscreen();
		myvideo.play();
		stopOpening();
	});

	myvideo.onended = function () {
    	vidcont.style.display = 'none';
    	input.style.display = 'none';
    	playAudio();
    	akhir.style.display = 'block';
	}

	function move(){
		btno.style.display = "none";
		btno2.style.display = "block";
		btno3.style.display = "none";
	}

	function move2(){
		btno.style.display = "none";
		btno2.style.display = "none";
		btno3.style.display = "block";
	}

	function move3(){
		btno.style.display = "block";
		btno2.style.display = "none";
		btno3.style.display = "none";	
	}

	function ubahisi(){
		spannama.innerHTML = nama;
	}

	function playAudio() {
    var x = document.getElementById("myAudio");
    x.volume = 0.15;
    x.play();
    x.loop = true;
	}
	function playOpening() {
	    var x = document.getElementById("myOpening");
	    x.volume = 0.3;
	    x.play();
	    x.addEventListener("ended", function () {
	        stopOpening();
	    });
	}
	function stopOpening() {
	    var x = document.getElementById("myOpening");
	    x.pause();
	    x.currentTime = 0;
	    var x = document.getElementById("myAudio");
	    x.pause();
	    x.currentTime = 0;
	}

	displayWindowSize();	

	window.addEventListener("resize", ()=>{
		console.log("change");
		displayWindowSize();
	});
</script>
</body>
</html>
